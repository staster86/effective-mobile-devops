# Используем официальный slim-образ Python для минимизации размера
FROM python:3.12-slim

# Устанавливаем рабочую директорию
WORKDIR /app

# Копируем код приложения
COPY app.py .

# Создаём не-root пользователя (для безопасности)
RUN useradd -m appuser

# Переключаемся на не-root пользователя
USER appuser

# Документируем порт (не публикуем наружу)
EXPOSE 8080

# Запускаем приложение
CMD ["python", "app.py"]